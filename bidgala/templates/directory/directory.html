{% extends 'base.html' %}
{% load humanize %}
{% load static %}
{% block title %} | Directory {% endblock %}
{% block content %}

{%block cssfile%}
{%endblock%}

<hr>
    <div class="container col-lg-6" >
      <div class="row jumbotron">
        <form id="search_profession"> 
            <h2> Professionals For Your Home </h2>
            <br>
              <div class="form-group">
                <label for="_profession">Profession</label>
                
                <select class="form-control" form="search_profession" id="_profession" name="_profession">
                                <option value="" selected disabled hidden>Choose here</option>
                                
                                {% for key, val in profession.items%}
                                <option value="{{key}}">{{val}}</option>
                                {%endfor%}
                              </select>

              </div>
              
              <div class="form-group">
                <label for="_location">Country</label>
                <select class="form-control" form="search_profession" id="_location" name="_location">
                  <option disabled="disabled" selected="selected">Select an option</option>
                  {% for key, value in country.items %}
                                  <optgroup value="{{key}}" label="{{value.name}}">
                                    {% for state_key, state_val in value.states.items%}
                                    {% if location == state_val %}
                                    <option value="{{state_key}}" selected="selected">{{state_val}}</option>
                                    {% else %}
                                    <option value="{{state_key}}">{{state_val}}</option>
                                    {%endif%}
                                    {% endfor %}
                                  </optgroup>
                                  {%endfor%}
              </select>
              </div>

              <br>

              <button type="Search" class="btn btn-primary">Search</button>
        </form>
      </div>

      <hr>

      <div class="row ">
        <div class="table-responsive">
<table class="table table-responsive table-striped table-bordered mt-5">
  <thead class="thead-dark">
    <tr>
      
      <th scope="col">Profile</th>
      <th scope="col">Contact</th>
      
    </tr>
  </thead>
  <tbody>

    {% for pro in professional%}
    <tr>
      
      <td><p><b>{{pro.user.first_name}} {{pro.user.last_name}}</b></p>
        
        <p>{{pro.user.date_joined | timesince}}</p>
      </td>

     
      
    </tr>

    {%endfor%}
    
  </tbody>
</table>


</div>

</div>
    </div>

    
{% endblock %}